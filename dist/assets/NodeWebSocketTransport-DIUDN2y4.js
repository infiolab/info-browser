import{g as h,b as u,__tla as w}from"../background.js";let n,m=Promise.all([(()=>{try{return w}catch{}})()]).then(async()=>{var r,o;function a(){return o||(o=1,r=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),r}var l=a();const c=h(l);n=class{static create(e,t){return new Promise((i,d)=>{const s=new c(e,[],{followRedirects:!0,perMessageDeflate:!1,allowSynchronousEvents:!1,maxPayload:268435456,headers:{"User-Agent":`Puppeteer ${u}`,...t}});s.addEventListener("open",()=>i(new n(s))),s.addEventListener("error",d)})}#e;onmessage;onclose;constructor(e){this.#e=e,this.#e.addEventListener("message",t=>{this.onmessage&&this.onmessage.call(null,t.data)}),this.#e.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this.#e.addEventListener("error",()=>{})}send(e){this.#e.send(e)}close(){this.#e.close()}}});export{n as NodeWebSocketTransport,m as __tla};
